  <div class="container-fluid half-price">
    <div class="container">
      <div class="spacer125"></div>
			{{ with .Site.GetPage "halfPrice" }}
			<h2 class="half-price__heading">
				{{ replace .Params.heading "\n" "<br/>" | safeHTML}}
			</h2>
			<div class="spacer40"></div>
			<div class="spacer60"></div>
      <div class="row d-flex justify-content-center">
				<div class="half-price__content">
					<div class="half-price__input-wrapper">
			      <label aria-label="storage" class="half-price__label">Storage</label>
			      <input type="text" id="storage" class="half-price__input" name="storage" value="1" required>
						<div class="half-price__measures">
							<p class="half-price__measure-text storage-measure">GB</p>
							<p style="color:#2582FF" class="half-price__measure-text storage-measure">TB</p>
						</div>
					</div>
					<div class="half-price__input-wrapper">
			      <label aria-label="download" class="half-price__label">Download</label>
			      <input type="text" id="download" class="half-price__input" name="download" value="1000" required>
						<div class="half-price__measures">
							<p style="color:#2582FF" class="half-price__measure-text download-measure">GB</p>
							<p class="half-price__measure-text download-measure">TB</p>
						</div>
					</div>
					<div class="half-price__estimate">
						<h4 id="estimate" class="half-price__estimate__price"></h4>
						<p class="half-price__estimate__text">Estimated Monthly Cost</p>
					</div>
				</div>
  			<img src="/img/pricing-chart.svg" alt="Pricing Chart" />
      </div>
			<div class="spacer70"></div>
			<a class="half-price__cta__wrapper" href="/signup">
				<p class="half-price__cta">
				{{ .Params.cta}}
				</p>
			</a>
			{{ end }}
    </div>
    <div class="spacer125"></div>
  </div>

	<script type="text/javascript">
		var estimate = document.getElementById("estimate");
		var downloadMeasures = document.querySelectorAll(".download-measure")
		var storageMeasures = document.querySelectorAll(".storage-measure")
		var downloadInput = document.getElementById("download");
		var storageInput = document.getElementById("storage");

		var changeMeasure = function(measures, typeOne, typeTwo) {
			if(measures) {
				measures.forEach(el => el.addEventListener('click', event => {
				  el.style.color="#2582FF";
					for (var i = 0; i < measures.length; i++) {
						if(el !== measures[i]) {
							measures[i].style.color="#AFB7C1";
						}
					}
					calculate(typeOne, typeTwo)
				}));
			}
		}

		var calculate = function(typeOne, typeTwo) {
			var inputOne = "";
			var inputTwo = "";
			var firstMeasure = ""
			var secondMeasure = ""
			var choiceOne = ""
			var choiceTwo = ""

			if(typeOne === "storage") {
				 inputOne = document.getElementById("storage").value;
				 inputTwo = document.getElementById("download").value;
				 secondMeasure = document.querySelectorAll(".download-measure")
				 firstMeasure = document.querySelectorAll(".storage-measure")
			} else if(typeOne === "download") {
				 inputTwo = document.getElementById("storage").value;
				 inputOne = document.getElementById("download").value;
				 secondMeasure = document.querySelectorAll(".storage-measure")
				 firstMeasure = document.querySelectorAll(".download-measure")
			}

			for (var i = 0; i < secondMeasure.length; i++) {
				if(secondMeasure[i].style.color === "rgb(37, 130, 255)") {
					choiceTwo = secondMeasure[i].textContent
				}
			}

			for (var i = 0; i < firstMeasure.length; i++) {
				if(firstMeasure[i].style.color === "rgb(37, 130, 255)") {
					choiceOne = firstMeasure[i].textContent
				}
			}

			var calculation = (inputOne * measureAccount(choiceOne, typeOne)) + (inputTwo * measureAccount(choiceTwo, typeTwo))

			estimate.textContent = "$" + Math.ceil(calculation * 100) / 100;
		}


		var measureAccount = function(choice, type) {
			if(type === "download") {
				if(choice === "GB") {
						return .045
				} else if(choice === "TB") {
					return 45
				}
			} else if(type === "storage") {
				if(choice === "GB") {
					return .01
				} else if(choice === "TB") {
					return 10
				}
			}
		}

		var onInput = function(input, typeOne, typeTwo) {

			input.addEventListener('keyup', event => {
				if(input.value > 1) {
					calculate(typeOne, typeTwo)
				}
			});
		}

		calculate("storage", "download")

		changeMeasure(downloadMeasures, "download", "storage")
		changeMeasure(storageMeasures, "storage", "download")

		onInput(downloadInput, "download", "storage")
		onInput(storageInput, "storage", "download")



	</script>
